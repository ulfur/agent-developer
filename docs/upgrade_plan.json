{
  "tasks": [
    {
      "id": "roadmap-progress-audit",
      "title": "Audit ROADMAP.md against current progress",
      "description": "Before shipping more features, double-check that Phase 0 checklists describe the state of the repo today and capture any gaps.",
      "prompt": "Start by reading ROADMAP.md, README.md, and logs/progress.log. Inspect every Phase 0 task (Sections 0.1\u20130.3) and verify whether the checkboxes reflect the actual implementation status in the repo. Update ROADMAP.md with accurate checkmarks or notes, cite concrete files/commits when confirming work, and highlight any regressions or missing deliverables. Summarize what changed in logs/progress.log and queue follow-up prompts or Human Tasks if blockers remain.",
      "project_id": "nightshift",
      "priority": 0,
      "status": "queued",
      "last_prompt_id": "dabe32d44a2e452cbd0a809e0b8d9fbe",
      "last_queued_at": "2025-11-16T00:07:59.353422+00:00",
      "queued_count": 1
    },
    {
      "id": "roadmap-next-steps-plan",
      "title": "Plan the next actionable Nightshift tasks",
      "description": "Translate the latest ROADMAP audit into concrete prompts so the queue stays full of high-priority work.",
      "prompt": "Re-read ROADMAP.md (with the latest updates) and docs/upgrade_plan.json. Based on the audit findings, define the next set of prompts Nightshift should tackle, update docs/upgrade_plan.json with those tasks (including priorities), and enqueue the first batch so the queue keeps moving. Document the new prompt IDs in logs/progress.log, ensure each prompt instructs future agents to re-read ROADMAP.md, and create follow-up prompts or Human Tasks wherever necessary.",
      "project_id": "nightshift",
      "priority": 0,
      "status": "queued",
      "last_prompt_id": "898386582e2745588973a5f5eec9f32f",
      "last_queued_at": "2025-11-16T00:07:59.728108+00:00",
      "queued_count": 1
    },
    {
      "id": "upgrade-queue-metrics",
      "title": "Expose richer queue metrics across the stack",
      "description": "Return per-status counts, oldest/newest timestamps, and rolling duration stats so the UI can visualize queue health trends.",
      "prompt": "Enhance the backend /api/health endpoint to surface queue metrics (counts per status, pending/running identifiers, and oldest/newest timestamps) and update the frontend health card to chart those stats and flag stalls.",
      "project_id": "nightshift",
      "priority": 1,
      "status": "queued",
      "queued_count": 1,
      "last_prompt_id": "da053bd288674c19ad52592cb06c7a58",
      "last_queued_at": "2025-11-15T06:42:37.495770+00:00"
    },
    {
      "id": "upgrade-prompt-logs-cli",
      "title": "Ship a CLI to inspect prompt logs quickly",
      "description": "Operators often need to tail the last Codex attempt; provide a helper script to fetch + stream prompt logs without digging through files.",
      "prompt": "Add a scripts/tail_prompt_log.py helper that lists prompts, accepts a prompt id, and tails its log (with optional follow mode) so operators can debug Codex runs from SSH.",
      "project_id": "nightshift",
      "priority": 2,
      "status": "queued",
      "queued_count": 1,
      "last_prompt_id": "02340ce106c54bfdabbadcc50fd3c0f1",
      "last_queued_at": "2025-11-15T06:42:37.497161+00:00"
    },
    {
      "id": "upgrade-frontend-filters",
      "title": "Add filters and search to the queue UI",
      "description": "Let users filter prompts by status/project/text and search the backlog without scrolling through hundreds of entries.",
      "prompt": "Update the Vue/Vuetify frontend queue panel to support filtering by status, project, and free-text search, while persisting the last-used filters in localStorage.",
      "project_id": "nightshift",
      "priority": 3,
      "status": "queued",
      "queued_count": 1,
      "last_prompt_id": "87cdc9a0ffab4628a019ca681a942d41",
      "last_queued_at": "2025-11-15T06:42:37.502451+00:00"
    },
    {
      "id": "upgrade-log-retention",
      "title": "Automate prompt log retention + archiving",
      "description": "Large prompt histories fill the SD card; add a retention policy that archives or prunes log files + prompt records after configurable thresholds.",
      "prompt": "Implement a retention job (CLI or background thread) that archives prompt logs older than N days to a tarball and truncates prompts.json accordingly, with config knobs and documentation.",
      "project_id": "nightshift",
      "priority": 4,
      "status": "queued",
      "queued_count": 1,
      "last_prompt_id": "1e3ad202aa8b40fc9744b658d87e6a10",
      "last_queued_at": "2025-11-15T06:42:37.507402+00:00"
    },
    {
      "id": "phase0-git-discipline",
      "title": "Automate per-prompt git branching discipline",
      "description": "Nightshift currently documents git discipline but does not enforce it. Build automation so every prompt runs on its own branch off dev, merges only when instructed, and cleans up after itself.",
      "prompt": "Read ROADMAP.md for context. Implement the Section 0.1 branching discipline end-to-end: ensure the backend runner (and docs) always create a per-prompt nightshift/prompt-<id>-<slug> branch from dev, never touch main, enforce merges back into dev only when explicitly asked, and clean up local branches afterward. Update agents.md/README.md with the workflow, add configuration knobs, and include a smoke test or dry-run command. You are allowed to create follow-up tasks as needed - make sure to queue them if anything remains.",
      "project_id": "nightshift",
      "priority": 1,
      "status": "queued",
      "last_prompt_id": "e2650439867e4967bdbe59cf9f18d805",
      "last_queued_at": "2025-11-15T21:18:41.199605+00:00",
      "queued_count": 1
    },
    {
      "id": "phase0-human-task-store",
      "title": "Stand up the human tasks store + API",
      "description": "Phase 0.2 requires a persistent human task list and API so agents can register blockers. Ship the storage, backend endpoints, and logging glue.",
      "prompt": "Start by reading ROADMAP.md for reference. Implement the Human Tasks system described in Section 0.2: add a human_tasks.json (or similar) datastore, CRUD backend endpoints, persistence helpers, and agent-side affordances so blockers can be logged/retrieved. Update the UI or CLI to surface the queue, wire metrics into /api/health, and document usage. Feel free to create follow-up tasks if new work appears.",
      "project_id": "nightshift",
      "priority": 2,
      "status": "queued",
      "last_prompt_id": "5689f660f4c045cab24efe0d512614a9",
      "last_queued_at": "2025-11-15T21:18:41.480106+00:00",
      "queued_count": 1
    },
    {
      "id": "phase0-aux-display",
      "title": "Show Human Task stats on the auxiliary display",
      "description": "Phase 0.3 wants the auxiliary e-ink display to surface the Human Task queue. Hook it up once the store exists.",
      "prompt": "Review ROADMAP.md and the new Human Tasks API, then extend the auxiliary display updater to show the count of open/blocking human tasks and any urgent titles. Include configuration/documentation for refreshing, add a fallback when the API is empty, and queue follow-up tasks if more UX polish is needed.",
      "project_id": "nightshift",
      "priority": 3,
      "status": "completed",
      "last_prompt_id": "897150680dac4222b435e3035fa2835f",
      "last_queued_at": "2025-11-15T21:18:45.866616+00:00",
      "queued_count": 1,
      "completed_at": "2025-11-16T01:50:26.278405+00:00",
      "notes": "Aux display now mixes human tasks ahead of the prompt queue; see backend/eink/manager.py and backend/eink/renderer.py."
    },
    {
      "id": "phase1-cdk-bootstrap",
      "title": "Bootstrap the CDK project skeleton",
      "description": "Create the cdk/ directory with a runnable AWS CDK app, pinned dependencies, and docs so infrastructure work can iterate.",
      "prompt": "Start by re-reading ROADMAP.md (Phase 1.1) and docs/upgrade_plan.json. Scaffold a cdk/ directory using AWS CDK (Python or TypeScript), add lockfiles and scripts to run `cdk synth/deploy`, and wire the stack to load instance/<name> context plus environment configuration. Provide README instructions, a smoke test/diff, and queue follow-up tasks if credentials or bootstrap steps are missing.",
      "project_id": "nightshift",
      "priority": 0,
      "status": "queued",
      "queued_count": 1,
      "last_prompt_id": "970a057ec649433f8b28f03627c24f38",
      "last_queued_at": "2025-11-16T00:16:37.846814+00:00"
    },
    {
      "id": "phase1-cdk-infra",
      "title": "Implement CDK compute + networking resources",
      "description": "Extend the CDK stack to provision the compute, storage, and network primitives Nightshift needs, parameterized by instance names.",
      "prompt": "Start by re-reading ROADMAP.md (Phase 1.1) and docs/upgrade_plan.json. Extend the CDK stack to create the Nightshift VPC, subnets, security groups, storage (EFS/S3), and compute layer (EC2 or containers) with outputs tied to instance/<name> parameters. Document the resources, integrate with scripts/deploy tooling, and ensure configuration/state flows back into Nightshift. Queue follow-up prompts or Human Tasks wherever approvals or secrets are required.",
      "project_id": "nightshift",
      "priority": 1,
      "status": "queued",
      "queued_count": 1,
      "last_prompt_id": "c47abf1af4f541f68184e1049d2b22c6",
      "last_queued_at": "2025-11-16T00:16:38.846814+00:00"
    },
    {
      "id": "phase1-container-runtime",
      "title": "Containerize the backend/frontend with workspace mounts",
      "description": "Build Dockerfiles and compose tooling so Nightshift runs in containers with env-var configs and a /workspaces volume strategy.",
      "prompt": "Start by re-reading ROADMAP.md (Phase 1.2\u20131.3) and docs/upgrade_plan.json. Author multi-stage Dockerfiles for the backend and frontend, expose runtime configuration via env vars, and add a docker-compose (or similar) bundle that runs the API, workers, and auxiliary display. Implement the /workspaces volume plan so project repos mount predictably, add smoke tests, and document operator workflows. Queue follow-up prompts if additional runtime services or orchestration polish is needed.",
      "project_id": "nightshift",
      "priority": 1,
      "status": "queued",
      "queued_count": 1,
      "last_prompt_id": "80d0e3b485874b239cd2e33d9e2b86d3",
      "last_queued_at": "2025-11-16T00:16:39.846814+00:00"
    }
  ],
  "generated_at": "2025-11-16T01:50:26.278405+00:00"
}
